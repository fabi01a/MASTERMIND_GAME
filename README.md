# ğŸ‘¾ MASTERMIND ğŸ‘¾

A full-stack, terminal-based implementation of the classic Mastermind game, built with a Flask backend and a Blessed-powered CLI frontend. The project emphasizes clean architecture, predictable state transitions, and separation of concerns.

---

## â Why This Project?

This project was built to practice **full-stack** system design beyond CRUD applications, with a focus on:  

âœ¦ Separating UI rendering, game flow, services, and persistence layers  
âœ¦ Designing clear game state transitions (in-progress, win, loss)  
âœ¦ Managing real-time terminal UI interactions  
âœ¦ Refactoring toward modularity and single responsibility  
âœ¦ Treating the CLI as a client to a backend API  

---

## â Tech Stack

âœ¦ **Python**  
âœ¦ **Flask** (REST API)  
âœ¦ **SQLAlchemy** (ORM)  
âœ¦ **Blessed** (terminal UI rendering)  
âœ¦ **PostgreSQL** (local development database)  
âœ¦ **pytest** (testing)  

---

## â Architectural Overview

The application follows a layered architecture:

âœ¦ **CLI Frontend**  
  âœ§ Renders screens and captures user input  
  âœ§ Does not contain game logic or state inference  

âœ¦ **Game Flow / Controllers**  
  âœ§ Orchestrate user interaction and screen transitions  

âœ¦ **Services**  
  âœ§ Handle game state transitions and business rules  

âœ¦ **Models**  
  âœ§ Represent persisted game state  

âœ¦ **API Client**  
  âœ§ Abstracts HTTP communication between frontend and backend  

âœ¦ Game win/loss logic lives entirely on the backend.  
âœ¦ The frontend only interprets backend responses.  

---

## â Notable Features & Design Choices

âœ¦ Backend-driven game state and win/loss logic  
âœ¦ Clean terminal UI with a dynamically updating guess table  
âœ¦ Input validation centralized in reusable utilities  
âœ¦ Graceful fallback if the external random number API is unavailable  
âœ¦ Early exit supported at multiple stages of gameplay  

---

## â  Running The Project Locally

### 1. Clone The Repository

 ```bash
git clone https://github.com/fabi01a/MASTERMIND_GAME.git
cd MASTERMIND_GAME
```

### 2. Create & Activate A Virtual Environment

```bash
python3.11 -m venv venv
source venv/bin/activate
```

### 3. Install Dependencies

```bash
pip install -r requirements.txt
```

### 4. Create The Database

make sure PostgreSQL is running, then:

```bash
createdb mastermind_db
```

### 5. Initialize Database Tables

```bash
python -m app.init_db
```

### 6. Start The Backend Server

```bash
flask run
```

### 7. Start The CLI Game (in a separate terminal)

```bash
python cli_game.py
```

---

## âââââ  ğŸ‘¾ **Mastermind** ğŸ‘¾ âââââ

Mastermind is a number-guessing game where the player tries to crack a secret 4-number code generated by the computer. Each digit is between the numbers 0 and 7 and the player has 10 attempts to win.  

## ğŸ‘¾ **How To Play**

âœ¦ Choose a difficulty level:  
    `âœ§` Easy: 4-digit code  
    `âœ§` Hard: 6-digit code  

âœ¦ Enter guesses using digits 0-7  

âœ¦ After each guess, the game provides feedback:  
    `âœ§`  How many digits are correct **and** in the correct place  
    `âœ§`  How many digits are correct **but** in the wrong place  

âœ¦ You have 10 attempts to crack the code  

âœ¦ The secret code may contain repeated digits  

âœ¦ The game ends when the player wins, runs out of attempts, or chooses to end the game early  

âœ¦ To end the game early enter "Q", to view top 10 players high score on the leaderboard enter "L"  

---

## â Requirements

This project was developed using **Python 3.11** and requires:
âœ¦ Python 3.11+
âœ¦ PostgreSQL

The application depends on the following Python libraries:

âœ¦ [`Flask`](https://pypi.org/project/Flask/) â€” backend API  
âœ¦ [`Flask-SQLAlchemy`](https://pypi.org/project/Flask-SQLAlchemy/) â€” ORM
âœ¦ [`Flask-Migrate`](https://pypi.org/project/Flask-Migrate/) â€” database migrations
âœ¦ [`requests`](https://pypi.org/project/requests/) â€” frontend API client  
âœ¦ [`blessed`](https://pypi.org/project/blessed/) â€” terminal UI rendering  
âœ¦ [`pytest`](https://pypi.org/project/pytest/) â€” testing framework  

---

## â Running Tests

âœ¦ From the project root:  

```bash
pytest
```

The test suite covers:  

âœ¦ Game creation  
âœ¦ Valid and invalid guesses  
âœ¦ Win and loss scenarios  
âœ¦ Input edge cases  
âœ¦ Post-game restrictions  
âœ¦ Tests are located in tests/test_routes.py.  
